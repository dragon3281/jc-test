[2025-11-13 10:41:47] ========================================
[2025-11-13 10:41:47] ========================================
[2025-11-13 10:41:47] 全局E2E测试开始
[2025-11-13 10:41:47] 全局E2E测试开始
[2025-11-13 10:41:47] ========================================
[2025-11-13 10:41:47] ========================================
[2025-11-13 10:41:47] 
[2025-11-13 10:41:47] 
[2025-11-13 10:41:47] 步骤1: 用户登录
[2025-11-13 10:41:47] 步骤1: 用户登录
[2025-11-13 10:41:47] ----------------------------------------
[2025-11-13 10:41:47] ----------------------------------------
[2025-11-13 10:41:47] ✓ 登录成功
[2025-11-13 10:41:47] ✓ 登录成功
[2025-11-13 10:41:47] Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lI...
[2025-11-13 10:41:47] Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lI...
[2025-11-13 10:41:47] 
[2025-11-13 10:41:47] 
[2025-11-13 10:41:47] 步骤2: 数据中心模块测试
[2025-11-13 10:41:47] 步骤2: 数据中心模块测试
[2025-11-13 10:41:47] ========================================
[2025-11-13 10:41:47] ========================================
[2025-11-13 10:41:47] 
[2025-11-13 10:41:47] 
[2025-11-13 10:41:47] 2.1 基础数据管理
[2025-11-13 10:41:47] 2.1 基础数据管理
[2025-11-13 10:41:47] 测试: 获取基础数据列表
[2025-11-13 10:41:47] 测试: 获取基础数据列表
[2025-11-13 10:41:47]   请求: GET http://103.246.244.229:3000/api/data/base/page?current=1&size=10
[2025-11-13 10:41:47]   请求: GET http://103.246.244.229:3000/api/data/base/page?current=1&size=10
[2025-11-13 10:41:48]   状态码: 200
[2025-11-13 10:41:48]   状态码: 200
[2025-11-13 10:41:48]   结果: ✓ 成功
[2025-11-13 10:41:48]   结果: ✓ 成功
[2025-11-13 10:41:48]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030508083}
[2025-11-13 10:41:48]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030508083}
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 2.2 历史检测结果
[2025-11-13 10:41:48] 2.2 历史检测结果
[2025-11-13 10:41:48] 测试: 获取历史结果
[2025-11-13 10:41:48] 测试: 获取历史结果
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/data/result/page?current=1&size=10
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/data/result/page?current=1&size=10
[2025-11-13 10:41:48]   状态码: 200
[2025-11-13 10:41:48]   状态码: 200
[2025-11-13 10:41:48]   结果: ✓ 成功
[2025-11-13 10:41:48]   结果: ✓ 成功
[2025-11-13 10:41:48]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030508183}
[2025-11-13 10:41:48]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030508183}
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 测试: 统计数据
[2025-11-13 10:41:48] 测试: 统计数据
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/data/result/statistics
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/data/result/statistics
[2025-11-13 10:41:48]   状态码: 500
[2025-11-13 10:41:48]   状态码: 500
[2025-11-13 10:41:48]   结果: ✗ 失败
[2025-11-13 10:41:48]   结果: ✗ 失败
[2025-11-13 10:41:48]   响应: {"code":500,"message":"系统错误,请联系管理员","data":null,"timestamp":1763030508249}
[2025-11-13 10:41:48]   响应: {"code":500,"message":"系统错误,请联系管理员","data":null,"timestamp":1763030508249}
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 2.3 最新检测结果
[2025-11-13 10:41:48] 2.3 最新检测结果
[2025-11-13 10:41:48] 测试: 获取最新结果
[2025-11-13 10:41:48] 测试: 获取最新结果
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/data/result/page?current=1&size=10&latest=true
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/data/result/page?current=1&size=10&latest=true
[2025-11-13 10:41:48]   状态码: 200
[2025-11-13 10:41:48]   状态码: 200
[2025-11-13 10:41:48]   结果: ✓ 成功
[2025-11-13 10:41:48]   结果: ✓ 成功
[2025-11-13 10:41:48]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030508320}
[2025-11-13 10:41:48]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030508320}
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 步骤3: 检测任务模块测试
[2025-11-13 10:41:48] 步骤3: 检测任务模块测试
[2025-11-13 10:41:48] ========================================
[2025-11-13 10:41:48] ========================================
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 3.1 任务列表
[2025-11-13 10:41:48] 3.1 任务列表
[2025-11-13 10:41:48] 测试: 获取任务列表
[2025-11-13 10:41:48] 测试: 获取任务列表
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/task/page?current=1&size=10
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/task/page?current=1&size=10
[2025-11-13 10:41:48]   状态码: 200
[2025-11-13 10:41:48]   状态码: 200
[2025-11-13 10:41:48]   结果: ✓ 成功
[2025-11-13 10:41:48]   结果: ✓ 成功
[2025-11-13 10:41:48]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030508409}
[2025-11-13 10:41:48]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030508409}
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 3.2 已完成任务
[2025-11-13 10:41:48] 3.2 已完成任务
[2025-11-13 10:41:48] 测试: 获取已完成任务
[2025-11-13 10:41:48] 测试: 获取已完成任务
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/task/page?current=1&size=10&status=COMPLETED
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/task/page?current=1&size=10&status=COMPLETED
[2025-11-13 10:41:48]   状态码: 500
[2025-11-13 10:41:48]   状态码: 500
[2025-11-13 10:41:48]   结果: ✗ 失败
[2025-11-13 10:41:48]   结果: ✗ 失败
[2025-11-13 10:41:48]   响应: {"code":500,"message":"系统错误: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: \"COMPLETED\"","data":null,"timestamp":1763030508477}
[2025-11-13 10:41:48]   响应: {"code":500,"message":"系统错误: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: \"COMPLETED\"","data":null,"timestamp":1763030508477}
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 3.3 创建任务依赖数据
[2025-11-13 10:41:48] 3.3 创建任务依赖数据
[2025-11-13 10:41:48] 测试: 获取模板列表
[2025-11-13 10:41:48] 测试: 获取模板列表
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/template/list
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/template/list
[2025-11-13 10:41:48]   状态码: 500
[2025-11-13 10:41:48]   状态码: 500
[2025-11-13 10:41:48]   结果: ✗ 失败
[2025-11-13 10:41:48]   结果: ✗ 失败
[2025-11-13 10:41:48]   响应: {"code":500,"message":"系统错误: \n### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'timeout' in 'field list'\n### The error may exist in com/detection/platform/dao/PostTemplateMapper.java (best guess)\n### The error may involve defaultParameterMap\n### The error occurred while setting parameters\n### SQL: SELECT  id,template_name,target_site,request_url,request_method,request_headers,request_body,success_rule,fail_rule,enable_proxy,timeout_seconds,timeout,retry_count,version,create_time,update_time,deleted  FROM t_post_template  WHERE deleted=0\n### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'timeout' in 'field list'\n; bad SQL grammar []","data":null,"timestamp":1763030508634}
[2025-11-13 10:41:48]   响应: {"code":500,"message":"系统错误: \n### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'timeout' in 'field list'\n### The error may exist in com/detection/platform/dao/PostTemplateMapper.java (best guess)\n### The error may involve defaultParameterMap\n### The error occurred while setting parameters\n### SQL: SELECT  id,template_name,target_site,request_url,request_method,request_headers,request_body,success_rule,fail_rule,enable_proxy,timeout_seconds,timeout,retry_count,version,create_time,update_time,deleted  FROM t_post_template  WHERE deleted=0\n### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'timeout' in 'field list'\n; bad SQL grammar []","data":null,"timestamp":1763030508634}
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 测试: 获取代理池列表
[2025-11-13 10:41:48] 测试: 获取代理池列表
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/proxy/pool/list
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/proxy/pool/list
[2025-11-13 10:41:48]   状态码: 500
[2025-11-13 10:41:48]   状态码: 500
[2025-11-13 10:41:48]   结果: ✗ 失败
[2025-11-13 10:41:48]   结果: ✗ 失败
[2025-11-13 10:41:48]   响应: {"code":500,"message":"系统错误: \n### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'total_nodes' in 'field list'\n### The error may exist in com/detection/platform/dao/ProxyPoolMapper.java (best guess)\n### The error may involve defaultParameterMap\n### The error occurred while setting parameters\n### SQL: SELECT  id,pool_name,proxy_type,description,total_nodes,available_nodes,health_score,create_time,deleted  FROM t_proxy_pool  WHERE deleted=0       ORDER BY create_time DESC\n### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'total_nodes' in 'field list'\n; bad SQL grammar []","data":null,"timestamp":1763030508695}
[2025-11-13 10:41:48]   响应: {"code":500,"message":"系统错误: \n### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'total_nodes' in 'field list'\n### The error may exist in com/detection/platform/dao/ProxyPoolMapper.java (best guess)\n### The error may involve defaultParameterMap\n### The error occurred while setting parameters\n### SQL: SELECT  id,pool_name,proxy_type,description,total_nodes,available_nodes,health_score,create_time,deleted  FROM t_proxy_pool  WHERE deleted=0       ORDER BY create_time DESC\n### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'total_nodes' in 'field list'\n; bad SQL grammar []","data":null,"timestamp":1763030508695}
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 测试: 获取服务器列表
[2025-11-13 10:41:48] 测试: 获取服务器列表
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/server/list
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/server/list
[2025-11-13 10:41:48]   状态码: 200
[2025-11-13 10:41:48]   状态码: 200
[2025-11-13 10:41:48]   结果: ✓ 成功
[2025-11-13 10:41:48]   结果: ✓ 成功
[2025-11-13 10:41:48]     {"code":200,"message":"操作成功","data":[],"timestamp":1763030508750}
[2025-11-13 10:41:48]     {"code":200,"message":"操作成功","data":[],"timestamp":1763030508750}
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 步骤4: 业务中心模块测试
[2025-11-13 10:41:48] 步骤4: 业务中心模块测试
[2025-11-13 10:41:48] ========================================
[2025-11-13 10:41:48] ========================================
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 4.1 POST模板管理
[2025-11-13 10:41:48] 4.1 POST模板管理
[2025-11-13 10:41:48] 测试: 获取模板分页
[2025-11-13 10:41:48] 测试: 获取模板分页
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/template/page?current=1&size=10
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/template/page?current=1&size=10
[2025-11-13 10:41:48]   状态码: 200
[2025-11-13 10:41:48]   状态码: 200
[2025-11-13 10:41:48]   结果: ✓ 成功
[2025-11-13 10:41:48]   结果: ✓ 成功
[2025-11-13 10:41:48]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030508820}
[2025-11-13 10:41:48]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030508820}
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 4.2 注册管理
[2025-11-13 10:41:48] 4.2 注册管理
[2025-11-13 10:41:48] 测试: 获取注册任务列表
[2025-11-13 10:41:48] 测试: 获取注册任务列表
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/business/register/list
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/business/register/list
[2025-11-13 10:41:48]   状态码: 200
[2025-11-13 10:41:48]   状态码: 200
[2025-11-13 10:41:48]   结果: ✓ 成功
[2025-11-13 10:41:48]   结果: ✓ 成功
[2025-11-13 10:41:48]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030508883}
[2025-11-13 10:41:48]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030508883}
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 4.3 网站分析
[2025-11-13 10:41:48] 4.3 网站分析
[2025-11-13 10:41:48] 测试: 获取分析列表
[2025-11-13 10:41:48] 测试: 获取分析列表
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/business/analysis/list
[2025-11-13 10:41:48]   请求: GET http://103.246.244.229:3000/api/business/analysis/list
[2025-11-13 10:41:48]   状态码: 200
[2025-11-13 10:41:48]   状态码: 200
[2025-11-13 10:41:48]   结果: ✓ 成功
[2025-11-13 10:41:48]   结果: ✓ 成功
[2025-11-13 10:41:48]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030508958}
[2025-11-13 10:41:48]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030508958}
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 
[2025-11-13 10:41:48] 步骤5: 代理管理模块测试
[2025-11-13 10:41:48] 步骤5: 代理管理模块测试
[2025-11-13 10:41:48] ========================================
[2025-11-13 10:41:48] ========================================
[2025-11-13 10:41:49] 
[2025-11-13 10:41:49] 
[2025-11-13 10:41:49] 测试: 获取代理池分页
[2025-11-13 10:41:49] 测试: 获取代理池分页
[2025-11-13 10:41:49]   请求: GET http://103.246.244.229:3000/api/proxy/pool/page?current=1&size=10
[2025-11-13 10:41:49]   请求: GET http://103.246.244.229:3000/api/proxy/pool/page?current=1&size=10
[2025-11-13 10:41:49]   状态码: 200
[2025-11-13 10:41:49]   状态码: 200
[2025-11-13 10:41:49]   结果: ✓ 成功
[2025-11-13 10:41:49]   结果: ✓ 成功
[2025-11-13 10:41:49]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030509031}
[2025-11-13 10:41:49]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030509031}
[2025-11-13 10:41:49] 
[2025-11-13 10:41:49] 
[2025-11-13 10:41:49] 步骤6: 服务器管理模块测试
[2025-11-13 10:41:49] 步骤6: 服务器管理模块测试
[2025-11-13 10:41:49] ========================================
[2025-11-13 10:41:49] ========================================
[2025-11-13 10:41:49] 
[2025-11-13 10:41:49] 
[2025-11-13 10:41:49] 测试: 获取服务器分页
[2025-11-13 10:41:49] 测试: 获取服务器分页
[2025-11-13 10:41:49]   请求: GET http://103.246.244.229:3000/api/server/page?current=1&size=10
[2025-11-13 10:41:49]   请求: GET http://103.246.244.229:3000/api/server/page?current=1&size=10
[2025-11-13 10:41:49]   状态码: 200
[2025-11-13 10:41:49]   状态码: 200
[2025-11-13 10:41:49]   结果: ✓ 成功
[2025-11-13 10:41:49]   结果: ✓ 成功
[2025-11-13 10:41:49]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030509113}
[2025-11-13 10:41:49]     {"code":200,"message":"操作成功","data":{"records":[],"total":0,"size":10,"current":1,"pages":0},"timestamp":1763030509113}
[2025-11-13 10:41:49] 
[2025-11-13 10:41:49] 
[2025-11-13 10:41:49] ========================================
[2025-11-13 10:41:49] ========================================
[2025-11-13 10:41:49] 测试总结
[2025-11-13 10:41:49] 测试总结
[2025-11-13 10:41:49] ========================================
[2025-11-13 10:41:49] ========================================
[2025-11-13 10:41:49] 总测试数: 14
[2025-11-13 10:41:49] 总测试数: 14
[2025-11-13 10:41:49] 成功: 10 (71.4%)
[2025-11-13 10:41:49] 成功: 10 (71.4%)
[2025-11-13 10:41:49] 失败: 5 (35.7%)
[2025-11-13 10:41:49] 失败: 5 (35.7%)
[2025-11-13 10:41:49] 
[2025-11-13 10:41:49] 
[2025-11-13 10:41:49] ✗ 有 5 个测试失败，请检查日志
[2025-11-13 10:41:49] ✗ 有 5 个测试失败，请检查日志
